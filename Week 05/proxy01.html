<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // Object
      const target = { a: 'a' }
      const handler = {
        // Object.getPrototypeOf
        getPrototypeOf(target) {
          console.log('getPrototypeOf trap', target === target)
          return Array.prototype
        },
        // Object.setPrototypeOf
        setPrototypeOf(target,prototype) {},
        // Object.isExtensible
        isExtensible() {},
        // Object.preventExtensions
        preventExtensions() {},
        // Object.getOwnPropertyDescriptor
        getOwnPropertyDescriptor() {},
        // Object.defineProperty
        defineProperty() {},
        // in 操作符的捕捉器。Vue3
        has() {}, 
        // 属性读取操作的捕捉器。 Vue3
        get() {},
        // 属性设置操作的捕捉器。 Vue3
        set() {}, 
        // delete 操作符的捕捉器。Vue3
        deleteProperty() {}, 
        // Object.getOwnPropertyNames 方法和 Object.getOwnPropertySymbols Vue3
        ownKeys() {},
        //apply()
        apply() {},
        // new 操作符的捕捉器。
        construct() {},
      }
      const p = new Proxy(target, handler)
      console.log(
        Object.getPrototypeOf(p) === Array.prototype, // true
        Reflect.getPrototypeOf(p) === Array.prototype, // true
        p.__proto__ === Array.prototype, // false Chrome不触发
        Array.prototype.isPrototypeOf(p), // true
        p instanceof Array // true
      )
    </script>
  </body>
</html>
